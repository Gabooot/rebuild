[gd_scene load_steps=39 format=3 uid="uid://c7xns8f3lcqry"]

[ext_resource type="Script" path="res://base.gd" id="1_gsxox"]
[ext_resource type="Script" path="res://server.gd" id="2_jja4c"]
[ext_resource type="Texture2D" uid="uid://c3wjtmtk32syv" path="res://BZtextures/std_ground.png" id="2_w8ucs"]
[ext_resource type="Script" path="res://client.gd" id="3_ftabj"]
[ext_resource type="Script" path="res://block.gd" id="3_si3qn"]
[ext_resource type="Texture2D" uid="uid://be0yonubji1xy" path="res://BZtextures/red_basewall.png" id="4_h43vm"]
[ext_resource type="Script" path="res://telecollide.gd" id="4_jtcsi"]
[ext_resource type="Script" path="res://camera.gd" id="4_ylhbn"]
[ext_resource type="Texture2D" uid="uid://dlgj6psttkqne" path="res://BZtextures/tetrawall.png" id="5_ywum4"]
[ext_resource type="Script" path="res://rotater.gd" id="6_emosf"]
[ext_resource type="Script" path="res://pyraCollision.gd" id="6_faxj8"]
[ext_resource type="PackedScene" uid="uid://b3dujjdknj4el" path="res://radar_tank.tscn" id="6_jpvce"]
[ext_resource type="PackedScene" uid="uid://daggmd4aqd6y0" path="res://teleporter.tscn" id="7_jsc8d"]
[ext_resource type="Texture2D" uid="uid://b8dnnpndx0lvr" path="res://BZtextures/thief.png" id="8_f35fj"]
[ext_resource type="Script" path="res://player.gd" id="12_r3yd4"]
[ext_resource type="Script" path="res://addons/smoothing/smoothing.gd" id="13_cvbsv"]
[ext_resource type="Texture2D" uid="uid://dqgl1l1ebtf2y" path="res://BZtextures/blue_tank.png" id="14_aabfp"]
[ext_resource type="Script" path="res://fps.gd" id="19_5uswt"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d0wba"]
transparency = 4
depth_draw_mode = 2
shading_mode = 2
diffuse_mode = 1
specular_mode = 2
albedo_color = Color(1, 1, 1, 0.552941)
albedo_texture = ExtResource("8_f35fj")

[sub_resource type="BoxMesh" id="BoxMesh_j8cvt"]
material = SubResource("StandardMaterial3D_d0wba")
size = Vector3(0.2, 4, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_qqocx"]
size = Vector3(0.3, 3, 2)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_lm71v"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ir4qf"]
shading_mode = 2
diffuse_mode = 1
specular_mode = 1
albedo_texture = ExtResource("2_w8ucs")

[sub_resource type="BoxMesh" id="BoxMesh_4cuws"]
lightmap_size_hint = Vector2i(1004, 506)
material = SubResource("StandardMaterial3D_ir4qf")
add_uv2 = true
size = Vector3(100, 0.1, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_mtlcg"]
size = Vector3(3, 3, 3)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jhtk0"]
shading_mode = 2
diffuse_mode = 1
specular_mode = 1
albedo_texture = ExtResource("4_h43vm")

[sub_resource type="BoxMesh" id="BoxMesh_t74fi"]
lightmap_size_hint = Vector2i(34, 51)
material = SubResource("StandardMaterial3D_jhtk0")
add_uv2 = true
size = Vector3(3, 3, 3)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_x8lrk"]
shading_mode = 2
diffuse_mode = 1
specular_mode = 1
albedo_texture = ExtResource("4_h43vm")
texture_repeat = false

[sub_resource type="BoxMesh" id="BoxMesh_pgct8"]
lightmap_size_hint = Vector2i(34, 51)
material = SubResource("StandardMaterial3D_x8lrk")
add_uv2 = true
size = Vector3(3, 3, 3)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wnkkh"]
albedo_color = Color(0.282353, 0.627451, 0.823529, 0.454902)
albedo_texture = ExtResource("5_ywum4")

[sub_resource type="PrismMesh" id="PrismMesh_xaoxf"]
material = SubResource("StandardMaterial3D_wnkkh")
size = Vector3(2, 4, 2)
subdivide_height = 1

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_sp88i"]
points = PackedVector3Array(2, 0, 0, 0, 0, 0, 2, 0, 2, 1, 2, 1, 0, 0, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_hixcc"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_13xql"]
albedo_texture = ExtResource("14_aabfp")

[sub_resource type="BoxMesh" id="BoxMesh_jpywd"]
material = SubResource("StandardMaterial3D_13xql")

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_yh5wh"]
sky_top_color = Color(0, 0.556863, 0.447059, 1)

[sub_resource type="Sky" id="Sky_sqbtf"]
sky_material = SubResource("ProceduralSkyMaterial_yh5wh")

[sub_resource type="Environment" id="Environment_7rpx0"]
background_mode = 2
sky = SubResource("Sky_sqbtf")

[node name="game" type="Node3D"]
script = ExtResource("1_gsxox")

[node name="UDPserver" type="Node" parent="."]
script = ExtResource("2_jja4c")

[node name="server_button" type="Button" parent="UDPserver"]
offset_right = 8.0
offset_bottom = 8.0
text = "Start server
"

[node name="UDPclient" type="Node" parent="."]
script = ExtResource("3_ftabj")

[node name="client_button" type="Button" parent="UDPclient"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -145.0
offset_bottom = 31.0
grow_horizontal = 0
toggle_mode = true
text = "Connect to server"

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.66262, 0.748956, 0, -0.748956, -0.66262, 0, 0, 0)
light_bake_mode = 1
directional_shadow_pancake_size = 0.0

[node name="teleporter" parent="." instance=ExtResource("7_jsc8d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 7)

[node name="SB" type="MeshInstance3D" parent="teleporter"]
mesh = SubResource("BoxMesh_j8cvt")
skeleton = NodePath("")

[node name="telecollide" type="CollisionShape3D" parent="teleporter"]
shape = SubResource("BoxShape3D_qqocx")
script = ExtResource("4_jtcsi")

[node name="floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor"]
shape = SubResource("WorldBoundaryShape3D_lm71v")

[node name="tile" type="MeshInstance3D" parent="floor"]
mesh = SubResource("BoxMesh_4cuws")

[node name="block" type="StaticBody3D" parent="."]
transform = Transform3D(0.766044, 0.642788, 0, -0.604023, 0.719846, -0.34202, -0.219846, 0.262003, 0.939693, 0, 1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="block"]
shape = SubResource("BoxShape3D_mtlcg")
script = ExtResource("3_si3qn")

[node name="MeshInstance3D" type="MeshInstance3D" parent="block"]
mesh = SubResource("BoxMesh_t74fi")

[node name="block2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="block2"]
shape = SubResource("BoxShape3D_mtlcg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="block2"]
mesh = SubResource("BoxMesh_pgct8")
skeleton = NodePath("../../block2")

[node name="block3" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, -3)

[node name="CollisionShape3D" type="CollisionShape3D" parent="block3"]
shape = SubResource("BoxShape3D_mtlcg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="block3"]
mesh = SubResource("BoxMesh_pgct8")
skeleton = NodePath("../../block3")

[node name="block4" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, 7)

[node name="CollisionShape3D" type="CollisionShape3D" parent="block4"]
shape = SubResource("BoxShape3D_mtlcg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="block4"]
gi_mode = 0
mesh = SubResource("BoxMesh_pgct8")

[node name="block5" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -6)

[node name="CollisionShape3D" type="CollisionShape3D" parent="block5"]
shape = SubResource("BoxShape3D_mtlcg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="block5"]
gi_mode = 0
mesh = SubResource("BoxMesh_pgct8")
skeleton = NodePath("../../block5")

[node name="block6" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 5)

[node name="CollisionShape3D" type="CollisionShape3D" parent="block6"]
shape = SubResource("BoxShape3D_mtlcg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="block6"]
mesh = SubResource("BoxMesh_pgct8")
skeleton = NodePath("../../block6")

[node name="pyramid" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 0, 0)

[node name="pyramidVisual" type="MeshInstance3D" parent="pyramid"]
mesh = SubResource("PrismMesh_xaoxf")

[node name="pyraCollision" type="CollisionShape3D" parent="pyramid"]
shape = SubResource("ConvexPolygonShape3D_sp88i")
script = ExtResource("6_faxj8")

[node name="player" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -15)

[node name="collision" type="CharacterBody3D" parent="player"]
input_ray_pickable = false
slide_on_ceiling = false
wall_min_slide_angle = 0.0
floor_max_angle = 1.39626
floor_snap_length = 0.0
script = ExtResource("12_r3yd4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="player/collision"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0)
shape = SubResource("BoxShape3D_hixcc")

[node name="visual" type="Node3D" parent="player"]
script = ExtResource("13_cvbsv")
target = NodePath("../collision")

[node name="MeshInstance3D" type="MeshInstance3D" parent="player/visual"]
mesh = SubResource("BoxMesh_jpywd")

[node name="Camera3D" type="Camera3D" parent="."]
fov = 60.0
script = ExtResource("4_ylhbn")

[node name="radar" type="ColorRect" parent="."]
clip_contents = true
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -500.0
offset_right = 500.0
grow_vertical = 0
mouse_filter = 2
color = Color(0, 0, 0, 0.337255)

[node name="rotater" type="Node2D" parent="radar"]
position = Vector2(250, 250)
script = ExtResource("6_emosf")

[node name="mover" type="Node2D" parent="radar/rotater"]

[node name="radar_player" parent="radar" instance=ExtResource("6_jpvce")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7rpx0")

[node name="Label" type="Label" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_right = 20.0
offset_bottom = 26.0
grow_horizontal = 2
size_flags_horizontal = 3
size_flags_vertical = 6
text = "Test"
script = ExtResource("19_5uswt")

[connection signal="button_up" from="UDPserver/server_button" to="UDPserver" method="_on_server_button_button_up"]
[connection signal="button_up" from="UDPclient/client_button" to="UDPclient" method="_on_client_button_button_up"]
